<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>O.P.E.R.A.T.O.R Report</title>
  <link rel="icon" href="/favicon.ico">
  <style>
    :root {
      --primary: #4e6fff;
      --secondary: #8a4fff;
      --accent: #ff4b8a;
      --background: #0a0c14;
      --card-bg: #1a1d2d;
      --text: #e3e5fc;
      --text-secondary: #a9adc7;
      --border: #2a2d3d;
      --glow-primary: 0 0 15px rgba(78, 111, 255, 0.5);
      --glow-accent: 0 0 15px rgba(255, 75, 138, 0.5);
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body { 
      background: linear-gradient(135deg, var(--background), #141b29); 
      color: var(--text); 
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      padding: 0;
      margin: 0;
    }
    
    .container { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 30px; 
      animation: fadeIn 0.5s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .header { 
      display: flex; 
      align-items: center; 
      margin-bottom: 40px; 
      position: relative;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .header::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 200px;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      box-shadow: var(--glow-primary);
    }
    
    .logo { 
      width: 60px; 
      height: 60px;
      margin-right: 20px; 
      filter: drop-shadow(0 0 8px rgba(78, 111, 255, 0.6));
    }
    
    .action-buttons {
      display: flex;
      gap: 12px;
      margin-left: auto;
    }
    
    .btn {
      padding: 12px 24px; 
      text-decoration: none; 
      border-radius: 8px; 
      font-weight: 600; 
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #fff;
    }
    
    .primary-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      box-shadow: var(--glow-primary);
      border: none;
    }
    
    .secondary-btn {
      background: rgba(78, 111, 255, 0.15);
      border: 1px solid var(--primary);
      color: var(--primary);
    }
    
    .primary-btn::before {
      content: '‚ü≤';
      font-size: 18px;
    }
    
    .secondary-btn::before {
      content: 'üìÑ';
      font-size: 18px;
    }
    
    .btn:hover { 
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(78, 111, 255, 0.7); 
    }
    
    .content { 
      background: var(--card-bg); 
      padding: 30px; 
      border-radius: 16px; 
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 30px;
      animation: slideUp 0.5s ease-out;
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .screenshot { 
      max-width: 100%; 
      border-radius: 8px;
      margin: 15px 0;
      border: 1px solid var(--border);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .screenshot:hover {
      transform: scale(1.02);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }
    
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 12, 20, 0.95);
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(5px);
    }
    
    .modal.open {
      display: flex;
      opacity: 1;
      animation: modalFadeIn 0.3s forwards;
    }
    
    @keyframes modalFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-content {
      position: relative;
      width: 90%;
      max-width: 1200px;
      max-height: 90vh;
      margin: auto;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      transform: translateY(20px);
      opacity: 0;
      animation: modalContentFadeIn 0.4s forwards 0.1s;
    }
    
    @keyframes modalContentFadeIn {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border-bottom: 1px solid var(--border);
    }
    
    .modal-header h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
    }
    
    .close-modal {
      font-size: 28px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: color 0.2s;
      line-height: 24px;
    }
    
    .close-modal:hover {
      color: var(--accent);
    }
    
    .modal-body {
      flex: 1;
      overflow-y: auto;
      padding: 10px 5px;
      background: #1a1a27;
      border-radius: 8px;
      margin: 0 -15px;
      padding: 15px;
    }
    
    /* Ensure content inside modal is properly styled */
    .modal-body pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Fira Code', 'Courier New', monospace;
      font-size: 0.9em;
      line-height: 1.5;
      color: #e0e0e0;
      margin: 0;
      padding: 0;
    }
    
    /* Responsive images in modal */
    .modal-body img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 10px 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    /* Scrollbar styling */
    .modal-body::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    .modal-body::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 4px;
    }
    
    .modal-body::-webkit-scrollbar-thumb {
      background: rgba(100, 120, 250, 0.5);
      border-radius: 4px;
    }
    
    .modal-body::-webkit-scrollbar-thumb:hover {
      background: rgba(100, 120, 250, 0.7);
    }
    
    /* Image Modal */
    .img-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1100;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .img-modal.open {
      display: flex;
      opacity: 1;
      animation: modalFadeIn 0.3s forwards;
    }
    
    .img-modal-content {
      max-width: 90%;
      max-height: 90vh;
      margin: auto;
      border-radius: 8px;
      box-shadow: 0 0 25px rgba(78, 111, 255, 0.5);
      transform: scale(0.9);
      transition: transform 0.3s ease;
      animation: imgZoomIn 0.3s forwards;
    }
    
    @keyframes imgZoomIn {
      from { transform: scale(0.9); }
      to { transform: scale(1); }
    }
    
    .img-modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      opacity: 0.8;
      transition: opacity 0.2s, transform 0.2s;
    }
    
    .img-modal-close:hover {
      opacity: 1;
      transform: rotate(90deg);
    }
    
    .task { 
      background: rgba(255, 255, 255, 0.05); 
      padding: 20px; 
      margin-bottom: 20px; 
      border-radius: 12px; 
      border-left: 3px solid var(--primary);
      animation-delay: calc(0.1s * var(--idx));
      animation: fadeIn 0.5s ease-out;
    }
    
    .task.error {
      border-left-color: var(--accent);
    }
    
    .task-header { 
      font-weight: 600; 
      margin-bottom: 12px; 
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .task-header::before {
      content: 'üìä';
      font-size: 20px;
    }
    
    .error .task-header::before {
      content: '‚ö†Ô∏è';
    }
    
    .detail-content { 
      background: linear-gradient(135deg, rgba(78, 111, 255, 0.1), rgba(138, 79, 255, 0.1)); 
      border-radius: 12px; 
      padding: 20px; 
      color: var(--text); 
      margin-top: 20px;
      border: 1px solid rgba(78, 111, 255, 0.2);
    }
    
    h1 {
      font-size: 28px;
      font-weight: 600;
      background: linear-gradient(90deg, #fff, #a9adc7);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 0.5px;
    }
    
    h2 {
      font-size: 24px;
      margin-bottom: 20px;
      font-weight: 600;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    h2::before {
      content: 'üí°';
      font-size: 24px;
    }
    
    pre {
      background: rgba(0, 0, 0, 0.2);
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 14px;
      margin-top: 10px;
      border: 1px solid var(--border);
    }
  </style>
  <script>
    function renderTaskPlan(plan) {
      if (!plan) return '';
      
      // Handle different plan formats
      const steps = plan.steps || (Array.isArray(plan) ? plan : []);
      
      if (steps.length === 0) {
        return '<p>No task plan steps available.</p>';
      }
      
      let tableRows = '';
      steps.forEach(function(step, index) {
        const status = step.status || 'pending';
        const statusClass = 'status-' + status;
        const statusLabel = status.charAt(0).toUpperCase() + status.slice(1);
        const action = step.action ? String(step.action).replace(/</g, '&lt;').replace(/>/g, '&gt;') : 'N/A';
        const details = step.details ? String(step.details).replace(/</g, '&lt;').replace(/>/g, '&gt;') : '';
        
        tableRows += '
          <tr>
            <td>' + (index + 1) + '</td>
' +
            '            <td>' + action + '</td>
' +
            '            <td><span class="status-badge ' + statusClass + '">' + statusLabel + '</span></td>
' +
            '            <td>' + details + '</td>
' +
            '          </tr>';
      });
      
      return '
        <table class="task-plan">
          <thead>
            <tr>
              <th>Step</th>
              <th>Action</th>
              <th>Status</th>
              <th>Details</th>
            </tr>
          </thead>
          <tbody>' + tableRows + '
          </tbody>
        </table>';
    }
    
    function formatLogEntry(log) {
      if (typeof log === 'string') return log;
      
      try {
        if (log instanceof Error) {
          return '[ERROR] ' + (log.message || '') + '
' + (log.stack || '');
        }
        
        if (typeof log === 'object' && log !== null) {
          // Handle common log formats
          if (log.timestamp && log.level && log.message) {
            const timestamp = new Date(log.timestamp).toISOString();
            return '[' + timestamp + '] [' + String(log.level).toUpperCase() + '] ' + log.message;
          }
          
          // Fallback to JSON stringify
          try {
            return JSON.stringify(log, null, 2);
          } catch (e) {
            return String(log);
          }
        }
        
        return String(log);
      } catch (e) {
        return 'Error formatting log entry';
      }
    }
    
    // Copy logs to clipboard
    document.addEventListener('DOMContentLoaded', () => {
      const copyButton = document.querySelector('.copy-logs');
      if (copyButton) {
        copyButton.addEventListener('click', () => {
          const logs = Array.from(document.querySelectorAll('.log-entry'))
            .map(el => el.textContent)
            .join('
');
          
          navigator.clipboard.writeText(logs).then(() => {
            const originalText = copyButton.textContent;
            copyButton.textContent = 'Copied!';
            setTimeout(() => {
              copyButton.textContent = originalText;
            }, 2000);
          }).catch(err => {
            console.error('Failed to copy logs:', err);
          });
        });
      }
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="/favicon.ico" alt="OPERATOR_logo" class="logo"/>
      <h1>O.P.E.R.A.T.O.R ‚Äì Sentinel Report</h1>
      <div class="action-buttons">
        <a id="replayButton" href="javascript:void(0)" class="btn primary-btn open-link" data-url="%2Fexternal-report%2Fweb-2025-07-01_07-11-19-847.html">Replay</a>
      </div>
      
      <!-- Image Modal for viewing screenshots in full size -->
      <div id="imageModal" class="img-modal">
        <span class="img-modal-close">√ó</span>
        <img class="img-modal-content" id="modalImage">
      </div>

      <!-- Raw Report Modal (assumed, as referenced in script) -->
      <div id="rawReportModal" class="modal" style="display: none;">
        <div class="modal-content">
          <span class="close-modal">√ó</span>
          <div id="rawReportContent"></div>
        </div>
      </div>
    </div>
    <div class="content">
      <div class="report-header">
        <div class="header-content">
          <h1>Task Execution Report</h1>
          <div class="task-meta">
            <div class="meta-item">
              <span class="meta-label">Run ID:</span>
              <span class="meta-value">bdb829b8-5af6-4144-b903-0ef8733607c1</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Timestamp:</span>
              <span class="meta-value">2025-07-01T05:13:45.087Z</span>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Task Details</h2>
        <div class="card">
          <div class="command">
            <span class="label">Command:</span>
            <pre>open coingeck and check the price of SOL</pre>
          </div>
        </div>
      </div>

      
      <div class="section">
        <h2>Task Plan</h2>
        <div class="card">
          
      <div class="task-plan-container">
        <div class="task-plan-steps">
          
          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">1.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">navigate to https://www.coingecko.com</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":0,"actionOutput":"Completed: navigate to https://www.coingecko.com","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including detailed information for top cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB. It shows their prices, percentage changes over 1 hour, 24 hours, and 7 days, 24-hour trading volume, and market cap. The page also highlights trending cryptocurrencies and top gainers.","navigableElements":["Crypto Liquidity on CEXes Report 2025","17,544","1,296","$3.418T","3.2%","$89.575B","BTC 62.2%","ETH 8.74%","0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Learn","Products","API","Candy","Portfolio","Search","Read more","View more","View more","All","Highlights","Pump.fun","Categories","üî• Payment Solutions","... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">2.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">click the search bar and type 'SOL' and press enter</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":1,"actionOutput":"Completed: click the search bar and type 'SOL' and press enter","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including a list of cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB with their respective prices, market caps, and trading volumes. It also shows Solana's stats, including its rank, price, market cap, and 24h trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","17,544","1,296","$3.418T","$89.575B","BTC 62.2%","ETH 8.74%","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Last 7 Days (line graph)","Cryptocurrencies","NFTs","Exchanges","Categories","Chains","Articles"],"actionLog":[{"timestamp":"2025-07-01T05:07:44.882Z","step":1,"message":"Starting action with comman... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">3.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">extract the price of SOL from the page</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":2,"actionOutput":"Completed: extract the price of SOL from the page","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including a list of top cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB. It also shows detailed information about Solana (SOL), including its rank, price, market cap, and 24h trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.418T","24h Vol: $89.575B","Dominance: BTC 62.2%","ETH 8.74%","Gas: 0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Last 7 Days (line graph)","Cryptocurrencies","NFTs","Exchanges","Categories","Chains","Articles"],"actionLog":[{"timestamp":"2025-07-01T05:08:37.126Z","step":2,"message":"Starti... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">4.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">find the specific price of Solana (SOL) on the page</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":3,"actionOutput":"Completed: find the specific price of Solana (SOL) on the page","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including a list of top cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB. It shows the global cryptocurrency market cap, 24h trading volume, and specific details for Solana (SOL) including its rank, price, market cap, and 24h trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.418T","24h Vol: $89.575B","Dominance: BTC 62.2%","ETH 8.74%","Gas: 0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Last 7 Days (line graph)","Cryptocurrencies","NFTs","Exchanges","Categories","Chains","Articles"],"actionLog":[{"t... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">5.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">extract the price of Solana (SOL) from the detailed information</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":4,"actionOutput":"Completed: extract the price of Solana (SOL) from the detailed information","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including a list of top cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB. It also shows detailed information about Solana (SOL), including its rank, price, market cap, and 24h trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.418T","24h Vol: $89.575B","BTC 62.2%","ETH 8.74%","Gas: 0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Last 7 Days (line graph)","Cryptocurrencies","NFTs","Exchanges","Categories","Chains","Articles"],"actionLog":[{"timestamp":"2025-07-01T05:09:15.032Z","step":4,"me... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">6.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">check the current price of Solana (SOL) on the page</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":5,"actionOutput":"Completed: check the current price of Solana (SOL) on the page","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap, including a list of top cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB. It shows their prices, market caps, and 24-hour trading volumes. Solana (SOL) is highlighted with its rank, price, market cap, and 24-hour trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.418T","24h Vol: $89.575B","Dominance: BTC 62.2%","ETH 8.74%","Gas: 0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Last 7 Days (line graph)","Cryptocurrencies","NFTs","Exchanges","Categories","Chains","Articles"],"actionLog":[{"timestamp":"20... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">7.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">list all cryptocurrencies and their prices on the page</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":6,"actionOutput":"Completed: list all cryptocurrencies and their prices on the page","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap. It includes a list of cryptocurrencies such as Bitcoin, Ethereum, Tether, XRP, and BNB with their respective prices, market caps, and trading volumes. Solana (SOL) is highlighted with its stats including rank, price, market cap, and trading volume.","navigableElements":["Crypto Liquidity on CEXes Report 2025","17,544","1,296","$3.418T","$89.575B","BTC 62.2%","ETH 8.74%","0.425 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Show more","Buy","Buy","Buy","Buy","Buy","Line chart for global cryptocurrency market cap","Line chart for 24h trading volume","Line chart for Solana (SOL) last 7 days","Cryptocurrencies"... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">8.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">find the specific price of Solana (SOL) on the page</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":7,"actionOutput":"Completed: find the specific price of Solana (SOL) on the page","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"Error extracting page content: Connection error.\nError: Connection error.\n    at OpenAI.makeRequest (c:\\Users\\cosyc\\Nexus\\node_modules\\@midscene\\core\\node_modules\\openai\\src\\core.ts:480:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at call (c:\\Users\\cosyc\\Nexus\\node_modules\\@midscene\\core\\src\\ai-model\\service-caller\\index.ts:244:20)\n    at callToGetJSONObject (c:\\Users\\cosyc\\Nexus\\node_modules\\@midscene\\core\\src\\ai-model\\service-caller\\index.ts:344:20)\n    at callAiFn (c:\\Users\\cosyc\\Nexus\\node_modules\\@midscene\\core\\src\\ai-model\\common.ts:38:30)\n    at AiExtractElementInfo (c:\\Users\\cosyc\\Nexu... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step failed">
            <div class="step-header">
              <span class="step-number">9.</span>
              <span class="step-status failed">failed</span>
            </div>
            <div class="step-instruction">refresh the page</div>
            <div class="step-result">{"success":false,"error":"Protocol error (Page.captureScreenshot): Session closed. Most likely the page has been closed.\nTargetCloseError: Protocol error (Page.captureScreenshot): Session closed. Most likely the page has been closed.\n    at CdpCDPSession.send (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer\\node_modules\\puppeteer-core\\src\\cdp\\CdpSession.ts:98:9)\n    at next (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer-extra-plugin-stealth\\evasions\\sourceurl\\index.js:34:41)\n    at CdpCDPSession.send (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer-extra-plugin-stealth\\evasions\\sourceurl\\index.js:67:18)\n    at CdpPage._screenshot (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer\\node_modules\\puppeteer-core\\src\\cdp\\Page.ts:1037:52)\n    at CdpPage.screenshot (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer\\node_modules\\puppeteer-core\\src\\api\\Page.ts:2672:29)\n    at CdpPage.<anonymous> (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer\\node_modules\\puppe... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">10.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">navigate to https://www.coingecko.com/</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/","stepIndex":9,"actionOutput":"Completed: navigate to https://www.coingecko.com/","pageTitle":"Cryptocurrency Prices, Charts, and Crypto Market Cap | CoinGecko","extractedInfo":"The page displays cryptocurrency prices by market cap. It includes a list of cryptocurrencies with their rank, name, symbol, price, percentage change over 1h, 24h, and 7d, 24h volume, and market cap. The top cryptocurrencies listed are Bitcoin, Ethereum, Tether, XRP, and BNB. The page also highlights trending coins like Grass, Pudgy Penguins, and Arbitrum, and top gainers like Hashflow, Startup, and TNQ.","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.417T","24h Vol: $89.548B","BTC 62.2%","ETH 8.74%","Gas: 0.347 GWEI","Login","Sign up","Cryptocurrencies","Exchanges","NFT","Learn","Products","API","Candy","Portfolio","Search","R... [truncated]</div>
            
          </div>
        
<div class="step-separator"></div>

          <div class="task-plan-step completed">
            <div class="step-header">
              <span class="step-number">11.</span>
              <span class="step-status completed">completed</span>
            </div>
            <div class="step-instruction">click the search bar and type 'SOL' and press enter</div>
            <div class="step-result">{"success":true,"error":null,"task_id":"68636c7afac0ed6e9efdcda9","closed":false,"currentUrl":"https://www.coingecko.com/en/coins/solana","stepIndex":10,"actionOutput":"Completed: click the search bar and type 'SOL' and press enter","pageTitle":"Solana Price: SOL Live Price Chart, Market Cap & News Today | CoinGecko","extractedInfo":"The page displays information about Solana (SOL) including its current price ($152.57), market cap ($81,575,077,054), fully diluted valuation ($92,209,327,506), 24-hour trading volume ($5,804,145,546), circulating supply (534,484,332), total supply (604,160,518), and max supply (infinity). It also shows the 24-hour price range ($149.71 - $158.34) and the price in BTC (0.001428 BTC).","navigableElements":["Crypto Liquidity on CEXes Report 2025","Coins: 17,544","Exchanges: 1,296","Market Cap: $3.416T","24h Vol: $89.844B","Dominance: BTC 62.3%, ETH 8.71%","Gas: 0.362 GWEI","Cryptocurrencies","Exchanges","NFT","Learn","Products","API","Candy","Portfolio","Sear... [truncated]</div>
            
          </div>
        
          
        </div>
      </div>
    
        </div>
      </div>

      
      <div class="section">
        <h2>Execution Logs</h2>
        <div class="card logs-container">
          <div class="logs-header">
            <span>130 log entries</span>
            <button class="copy-logs">Copy Logs</button>
          </div>
          <div class="logs-content">
            <div class="log-entry">[2025-07-01T05:04:59.105Z] Plan created with engine: gpt-4o and execution mode: step-planning</div><div class="log-entry">[2025-07-01T05:04:59.146Z] taskStart ‚Üí frontend</div><div class="log-entry">[2025-07-01T05:04:59.147Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:04:59.152Z] No intermediate extraction data available.</div><div class="log-entry">[2025-07-01T05:04:59.152Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:04:59.153Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:04:59.188Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:05:00.495Z] New tool call started: browser_action</div><div class="log-entry">[2025-07-01T05:05:00.961Z] Function call received: browser_action</div><div class="log-entry">[2025-07-01T05:05:00.963Z] Executing step 1: action - navigate to https://www.coingecko.com</div><div class="log-entry">[2025-07-01T05:07:42.255Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:07:42.256Z] Step 1 completed</div><div class="log-entry">[2025-07-01T05:07:42.917Z] Task progress updated in DB: 5%</div><div class="log-entry">[2025-07-01T05:07:42.919Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:07:42.924Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:07:42.950Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:07:42.951Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:07:43.037Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:07:44.197Z] New tool call started: browser_action</div><div class="log-entry">[2025-07-01T05:07:44.824Z] Function call received: browser_action</div><div class="log-entry">[2025-07-01T05:07:44.825Z] Executing step 2: action - click the search bar and type 'SOL' and press enter</div><div class="log-entry">[2025-07-01T05:08:34.965Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:08:34.966Z] Step 2 completed</div><div class="log-entry">[2025-07-01T05:08:35.047Z] Task progress updated in DB: 10%</div><div class="log-entry">[2025-07-01T05:08:35.048Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:08:35.050Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:08:35.052Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:08:35.052Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:08:35.114Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:08:36.487Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:08:37.014Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:08:37.021Z] Executing step 3: query - extract the price of SOL from the page</div><div class="log-entry">[2025-07-01T05:08:55.026Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:08:55.026Z] Step 3 completed</div><div class="log-entry">[2025-07-01T05:08:55.147Z] Task progress updated in DB: 15%</div><div class="log-entry">[2025-07-01T05:08:55.147Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:08:55.150Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:08:55.151Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:08:55.151Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:08:55.184Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:08:56.546Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:08:57.442Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:08:57.443Z] Executing step 4: query - find the specific price of Solana (SOL) on the page</div><div class="log-entry">[2025-07-01T05:09:13.370Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:09:13.371Z] Step 4 completed</div><div class="log-entry">[2025-07-01T05:09:13.445Z] Task progress updated in DB: 20%</div><div class="log-entry">[2025-07-01T05:09:13.446Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:09:13.449Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:09:13.450Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:09:13.451Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:09:13.512Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:09:14.343Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:09:14.952Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:09:14.953Z] Executing step 5: query - extract the price of Solana (SOL) from the detailed information</div><div class="log-entry">[2025-07-01T05:09:30.662Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:09:30.663Z] Step 5 completed</div><div class="log-entry">[2025-07-01T05:09:30.748Z] Task progress updated in DB: 25%</div><div class="log-entry">[2025-07-01T05:09:30.749Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:09:30.752Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:09:30.755Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:09:30.755Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:09:30.789Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:09:31.965Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:09:32.570Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:09:32.572Z] Executing step 6: query - check the current price of Solana (SOL) on the page</div><div class="log-entry">[2025-07-01T05:10:01.431Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:10:01.432Z] Step 6 completed</div><div class="log-entry">[2025-07-01T05:10:01.498Z] Task progress updated in DB: 30%</div><div class="log-entry">[2025-07-01T05:10:01.499Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:10:01.504Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:10:01.506Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:10:01.506Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:10:01.548Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:10:02.790Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:10:03.461Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:10:03.462Z] Executing step 7: query - list all cryptocurrencies and their prices on the page</div><div class="log-entry">[2025-07-01T05:10:28.610Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:10:28.611Z] Step 7 completed</div><div class="log-entry">[2025-07-01T05:10:28.684Z] Task progress updated in DB: 35%</div><div class="log-entry">[2025-07-01T05:10:28.685Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:10:28.687Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:10:28.689Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:10:28.690Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:10:28.731Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:10:30.252Z] New tool call started: browser_query</div><div class="log-entry">[2025-07-01T05:10:31.451Z] Function call received: browser_query</div><div class="log-entry">[2025-07-01T05:10:31.453Z] Executing step 8: query - find the specific price of Solana (SOL) on the page</div><div class="log-entry">[2025-07-01T05:10:54.880Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:10:54.881Z] Step 8 completed</div><div class="log-entry">[2025-07-01T05:10:56.003Z] Task progress updated in DB: 40%</div><div class="log-entry">[2025-07-01T05:10:56.003Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:10:56.006Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:10:56.007Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:10:56.008Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:10:56.050Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:10:56.850Z] New tool call started: browser_action</div><div class="log-entry">[2025-07-01T05:10:57.496Z] Function call received: browser_action</div><div class="log-entry">[2025-07-01T05:10:57.497Z] Executing step 9: action - refresh the page</div><div class="log-entry">[2025-07-01T05:11:13.301Z] Step 9 failed</div><div class="log-entry">[2025-07-01T05:11:13.383Z] Task progress updated in DB: 45%</div><div class="log-entry">[2025-07-01T05:11:13.387Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:11:13.389Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:11:13.390Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:11:13.391Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:11:13.448Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:11:15.275Z] New tool call started: browser_action</div><div class="log-entry">[2025-07-01T05:11:15.994Z] Function call received: browser_action</div><div class="log-entry">[2025-07-01T05:11:15.995Z] Executing step 10: action - navigate to https://www.coingecko.com/</div><div class="log-entry">[2025-07-01T05:11:48.368Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:11:48.369Z] Step 10 completed</div><div class="log-entry">[2025-07-01T05:11:48.451Z] Task progress updated in DB: 50%</div><div class="log-entry">[2025-07-01T05:11:48.452Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:11:48.455Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:11:48.458Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:11:48.459Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:11:48.501Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:11:50.187Z] New tool call started: browser_action</div><div class="log-entry">[2025-07-01T05:11:51.051Z] Function call received: browser_action</div><div class="log-entry">[2025-07-01T05:11:51.053Z] Executing step 11: action - click the search bar and type 'SOL' and press enter</div><div class="log-entry">[2025-07-01T05:13:34.002Z] Browser session maintained for future steps</div><div class="log-entry">[2025-07-01T05:13:34.003Z] Step 11 completed</div><div class="log-entry">[2025-07-01T05:13:34.480Z] Task progress updated in DB: 55%</div><div class="log-entry">[2025-07-01T05:13:34.480Z] SYSTEM PROMPT generated</div><div class="log-entry">[2025-07-01T05:13:34.483Z] Using extraction from last step</div><div class="log-entry">[2025-07-01T05:13:34.484Z] Using execution mode: step-planning for AI request</div><div class="log-entry">[2025-07-01T05:13:34.484Z] Sending function call request to AI</div><div class="log-entry">[2025-07-01T05:13:34.598Z] Using chat model gpt-4o for task planning/orchestration</div><div class="log-entry">[2025-07-01T05:13:35.575Z] New tool call started: task_complete</div><div class="log-entry">[2025-07-01T05:13:35.799Z] Function call received: task_complete</div><div class="log-entry">[2025-07-01T05:13:35.800Z] Task marked as completed: Successfully checked the price of Solana (SOL). Current price is $152.57.</div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Execution Results</h2>
      
            <div class="task">
              <div class="task-header">Step 1 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346461662.png" class="screenshot" alt="Step 1 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 2 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346514558.png" class="screenshot" alt="Step 2 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 3 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346535010.png" class="screenshot" alt="Step 3 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 4 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346553342.png" class="screenshot" alt="Step 4 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 5 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346570652.png" class="screenshot" alt="Step 5 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 6 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346601419.png" class="screenshot" alt="Step 6 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 7 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346628600.png" class="screenshot" alt="Step 7 Screenshot"/>
              
            </div>
            <div class="task">
              <div class="task-header">Step 8 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346654697.png" class="screenshot" alt="Step 8 Screenshot"/>
              
            </div>
            <div class="task error">
              <div class="task-header">Step 9 ‚Äì Error</div>
              <pre>{
  "success": false,
  "error": "Protocol error (Page.captureScreenshot): Session closed. Most likely the page has been closed.\nTargetCloseError: Protocol error (Page.captureScreenshot): Session closed. Most likely the page has been closed.\n    at CdpCDPSession.send (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer\\node_modules\\puppeteer-core\\src\\cdp\\CdpSession.ts:98:9)\n    at next (c:\\Users\\cosyc\\Nexus\\node_modules\\puppeteer-extra-plugin-stealth\\evasions\\sourceurl\\index.js:34:4</pre>
            </div>
            <div class="task">
              <div class="task-header">Step 10 ‚Äì Screenshot</div>
              <img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/screenshot-1751346707760.png" class="screenshot" alt="Step 10 Screenshot"/>
              
            </div>
      <h2>Final State</h2><img src="/nexus_run/bdb829b8-5af6-4144-b903-0ef8733607c1/final-screenshot-1751346823130.png" class="screenshot" alt="Final Screenshot"/>
    </div>
  </div>
  </body>
  
  <script>
    // This function safely extracts body content from HTML
    function extractBodyContent(htmlString) {
      let content = htmlString;
      
      if (typeof htmlString === 'string' && htmlString.indexOf('<body') !== -1) {
        const bodyStartIndex = htmlString.indexOf('<body');
        if (bodyStartIndex !== -1) {
          const bodyContentStartIndex = htmlString.indexOf('>', bodyStartIndex) + 1;
          const bodyEndIndex = htmlString.indexOf('</body>', bodyContentStartIndex);
          
          if (bodyContentStartIndex > 0 && bodyEndIndex !== -1) {
            content = htmlString.substring(bodyContentStartIndex, bodyEndIndex);
          }
        }
      }
      
      return content;
    }

    // Function to open the raw report modal
    function openRawReportModal(url) {
      const modal = document.getElementById('rawReportModal');
      const contentDiv = document.getElementById('rawReportContent');
      
      if (!modal || !contentDiv) {
        console.error('Modal elements not found');
        return;
      }
      
      contentDiv.textContent = 'Loading raw report data...';
      modal.style.display = 'flex';
      
      void modal.offsetWidth;
      modal.classList.add('open');
      
      fetch(url)
        .then(response => {
          const contentType = response.headers.get('content-type');
          if (contentType && contentType.includes('text/html')) {
            return response.text()
              .then(html => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                return doc.body.innerHTML;
              });
          }
          return response.text();
        })
        .then(processedContent => {
          while (contentDiv.firstChild) {
            contentDiv.removeChild(contentDiv.firstChild);
          }
          
          const container = document.createElement('div');
          container.style.maxHeight = '80vh';
          container.style.overflowY = 'auto';
          container.style.padding = '1rem';
          container.style.background = '#fff';
          container.style.borderRadius = '4px';
          container.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
          
          if (typeof processedContent === 'string' && 
              (processedContent.trim().startsWith('<') || 
              processedContent.includes('</') || 
              processedContent.includes('/>'))) {
            container.innerHTML = processedContent;
          } else {
            const pre = document.createElement('pre');
            pre.style.whiteSpace = 'pre-wrap';
            pre.textContent = processedContent;
            container.appendChild(pre);
          }
          
          contentDiv.appendChild(container);
          
          container.querySelectorAll('img').forEach(img => {
            if (img.src.startsWith('/')) {
              img.src = window.location.origin + img.src;
            }
            img.style.maxWidth = '100%';
            img.style.height = 'auto';
          });
        })
        .catch(error => {
          while (contentDiv.firstChild) {
            contentDiv.removeChild(contentDiv.firstChild);
          }
          
          const errorDiv = document.createElement('div');
          errorDiv.className = 'error';
          errorDiv.textContent = 'Error loading report: ' + 
            (error && typeof error.message === 'string' ? error.message : 'Unknown error');
          contentDiv.appendChild(errorDiv);
        });
      
      const closeBtn = modal.querySelector('.close-modal');
      if (closeBtn) {
        closeBtn.addEventListener('click', () => closeModal(modal));
      }
      
      modal.addEventListener('click', event => {
        if (event.target === modal) {
          closeModal(modal);
        }
      });
    }

    // Helper function to close any modal
    function closeModal(modalElement) {
      if (!modalElement) return;
      
      modalElement.classList.remove('open');
      setTimeout(() => {
        modalElement.style.display = 'none';
      }, 300);
    }

    // Initialize functionality when page loads
    document.addEventListener('DOMContentLoaded', () => {
      // Event delegation for open-link (replay button)
      const container = document.querySelector('.container');
      if (container) {
        container.addEventListener('click', event => {
          const link = event.target.closest('.open-link');
          if (link) {
            event.preventDefault();
            const url = decodeURIComponent(link.getAttribute('data-url'));
            if (url) {
              window.open(url, '_blank', 'noopener,noreferrer');
            } else {
              console.warn('No URL found for link:', link);
            }
          }
        });
      }

      // Image modal setup
      const imgModal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const closeImgBtn = document.querySelector('.img-modal-close');
      
      if (!imgModal || !modalImg || !closeImgBtn) {
        console.error('Image modal elements not found');
        return;
      }
      
      document.querySelectorAll('.screenshot').forEach(screenshot => {
        screenshot.addEventListener('click', () => {
          modalImg.src = screenshot.src;
          imgModal.style.display = 'flex';
          void imgModal.offsetWidth;
          imgModal.classList.add('open');
        });
      });
      
      closeImgBtn.addEventListener('click', () => closeModal(imgModal));
      
      imgModal.addEventListener('click', event => {
        if (event.target === imgModal) {
          closeModal(imgModal);
        }
      });
    });
  </script>
</body>
</html>